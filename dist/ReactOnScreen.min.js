!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactOnScreen=t(require("react")):e.ReactOnScreen=t(e.React)}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=i(r);t.default=o.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),f=i(a),c=n(2),p=i(c),h={once:a.PropTypes.bool,throttleInterval:function(e,t,n){var i=e[t];return!Number.isInteger(i)||i<0?new Error("The "+t+" prop you provided to "+n+" is not a valid integer >= 0."):null},children:a.PropTypes.oneOfType([a.PropTypes.element,a.PropTypes.arrayOf(a.PropTypes.element)]),style:a.PropTypes.object,className:a.PropTypes.string,offset:a.PropTypes.number},d={once:!1,throttleInterval:150,style:null,className:null,offset:0},b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isVisible:!1},n.isComponentVisible=n.isComponentVisible.bind(n),n.throttleCb=(0,p.default)(n.isComponentVisible,n.props.throttleInterval),n.setNodeRef=function(e){n.nodeRef=e},n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.attachListener(),this.isComponentVisible()}},{key:"componentWillUnmount",value:function(){this.removeListener()}},{key:"getPropsToRender",value:function(){var e={};return null!==this.props.className&&(e.className=this.props.className),null!==this.props.style&&(e.style=this.props.style),0!==this.props.offset&&(e.offset=this.props.offset),e}},{key:"getChildProps",value:function(){var e=this,n={};return Object.keys(this.props).forEach(function(i){({}).hasOwnProperty.call(t.defaultProps,i)||(n[i]=e.props[i])}),n}},{key:"getChildren",value:function(){var e=this;return f.default.Children.map(this.props.children,function(t){return f.default.cloneElement(t,l({},e.getChildProps(),{isVisible:e.state.isVisible,isPartiallyVisible:e.state.isPartiallyVisible}))})}},{key:"isComponentVisible",value:function(){var e=this.nodeRef.getBoundingClientRect(),t=document.documentElement,n=this.props.offset,i=(window.innerHeight||t.clientHeight)+n,r=(window.innerWidth||t.clientWidth)+n,o=e.top>=0&&e.left>=0&&e.bottom<=i&&e.right<=r,s=e.bottom>n&&e.top<n&&(e.right>=0||e.left<=r),l=e.top<i&&e.bottom>i&&(e.right>0||e.left<=r),u=e.right>0&&e.left<0&&(e.top>0||e.bottom<i),a=e.left<r&&e.right>r&&(e.top>0||e.bottom<i),f=s||a||u||l;o&&!this.state.isVisible?(this.props.once&&this.removeListener(),this.setState({isPartiallyVisible:!1,isVisible:!0})):f&&!this.state.isPartiallyVisible?(this.props.once&&this.removeListener(),this.setState({isPartiallyVisible:!0,isVisible:!1})):(!this.state.isVisible||!this.state.isPartiallyVisible)&&this.setState({isVisible:!1,isPartiallyVisible:!1})}},{key:"attachListener",value:function(){window.addEventListener("scroll",this.throttleCb),window.addEventListener("resize",this.throttleCb)}},{key:"removeListener",value:function(){window.removeEventListener("scroll",this.throttleCb),window.removeEventListener("resize",this.throttleCb)}},{key:"render",value:function(){return f.default.createElement("div",l({ref:this.setNodeRef},this.getPropsToRender()),this.getChildren())}}]),t}(a.Component);t.default=b,b.propTypes=h,b.defaultProps=d},function(e,t){(function(t){function n(e,t,n){function i(t){var n=b,i=y;return b=y=void 0,T=t,m=e.apply(i,n)}function o(e){return T=e,g=setTimeout(f,t),V?i(e):m}function s(e){var n=e-P,i=e-T,r=t-n;return x?O(r,v-i):r}function a(e){var n=e-P,i=e-T;return void 0===P||n>=t||n<0||x&&i>=v}function f(){var e=j();return a(e)?c(e):void(g=setTimeout(f,s(e)))}function c(e){return g=void 0,C&&b?i(e):(b=y=void 0,m)}function p(){void 0!==g&&clearTimeout(g),T=0,b=P=y=g=void 0}function h(){return void 0===g?m:c(j())}function d(){var e=j(),n=a(e);if(b=arguments,y=this,P=e,n){if(void 0===g)return o(P);if(x)return g=setTimeout(f,t),i(P)}return void 0===g&&(g=setTimeout(f,t)),m}var b,y,v,m,g,P,T=0,V=!1,x=!1,C=!0;if("function"!=typeof e)throw new TypeError(u);return t=l(t)||0,r(n)&&(V=!!n.leading,x="maxWait"in n,v=x?w(l(n.maxWait)||0,t):v,C="trailing"in n?!!n.trailing:C),d.cancel=p,d.flush=h,d}function i(e,t,i){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(u);return r(i)&&(o="leading"in i?!!i.leading:o,s="trailing"in i?!!i.trailing:s),n(e,t,{leading:o,maxWait:t,trailing:s})}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){return!!e&&"object"==typeof e}function s(e){return"symbol"==typeof e||o(e)&&P.call(e)==f}function l(e){if("number"==typeof e)return e;if(s(e))return a;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=h.test(e);return n||d.test(e)?b(e.slice(2),n?2:8):p.test(e)?a:+e}var u="Expected a function",a=NaN,f="[object Symbol]",c=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,d=/^0o[0-7]+$/i,b=parseInt,y="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,m=y||v||Function("return this")(),g=Object.prototype,P=g.toString,w=Math.max,O=Math.min,j=function(){return m.Date.now()};e.exports=i}).call(t,function(){return this}())},function(t,n){t.exports=e}])});